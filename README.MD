# ğŸ’¡ Proyecto Base MVC en PHP

AplicaciÃ³n web modular construida bajo el patrÃ³n **Modelo-Vista-Controlador** (**MVC**) para facilitar el desarrollo escalable, seguro y mantenible de interfaces dinÃ¡micas en PHP.

---
## ğŸ“ Tareas

Para ver la **Estructura Completa de Tareas y Pendientes**, visita nuestro [Tablero Kanban aquÃ­ â¡ï¸](.kanbn/index.md).

---


## Inicio rÃ¡pido

Este repositorio corresponde al sistema QuickStock, una aplicaciÃ³n web modular desarrollada en PHP bajo el patrÃ³n MVC. Su estructura estÃ¡ diseÃ±ada para facilitar la mantenibilidad, escalabilidad y claridad tÃ©cnica en entornos de desarrollo profesional.

Para conocer el flujo de trabajo, convenciones internas y recomendaciones de implementaciÃ³n, consulta el [manual del desarrollador](/src/docs/manual_desarrollador.md).

---

## ğŸ› ï¸ TecnologÃ­as Principales

El proyecto estÃ¡ construido con un stack moderno y enfocado en la seguridad y la modularidad.

| Componente    | VersiÃ³n / PropÃ³sito                   |
| :------------ | :------------------------------------ |
| **PHP**       | 8.0+ (POO, modularidad)               |
| **Composer**  | GestiÃ³n de dependencias y autoloading |
| **Bootstrap** | 5 (Estilos y diseÃ±o responsivo)       |
| **PDO**       | Acceso seguro a Bases de Datos        |
| **Apache**    | Reescritura de URLs con `.htaccess`   |
| **OpenSSL**   | EncriptaciÃ³n de datos sensibles       |

---

## InstalaciÃ³n y ConfiguraciÃ³n

Sigue estos pasos para poner en marcha el proyecto en tu entorno local. Requisitos mÃ­nimos: PHP 8.0+, Apache y Composer.

### 1. Preparar el entorno de desarrollo

Ubica el directorio raÃ­z de tu servidor web (por ejemplo, `htdocs` en XAMPP) y crea la siguiente estructura:

```bash
cd xampp/htdocs
mkdir -p DEV/PHP
cd DEV/PHP
```

### 2. Clonar el repositorio
Clona el proyecto en la carpeta creada:

```bash
git clone https://LINK_DEL_REPOSITORIO
cd nombre-del-repositorio
git init
git remote add origin https://LINK_DEL_REPOSITORIO
git switch master
git pull origin master
```
### 3. Instalar dependencias
Ejecuta Composer para instalar las librerÃ­as necesarias:

> ğŸ’¡ Presiona ctrl + Ã± para abrir el terminal integrado o abre la terminal en la carpeta raiz del proyecto 

```bash
composer install
```

### 4. Verificar configuraciÃ³n de Apache
AsegÃºrate de que el mÃ³dulo mod_rewrite estÃ© habilitado y que el archivo .htaccess estÃ© siendo interpretado correctamente. Esto es necesario para la reescritura de URLs.

### 5. Configurar base de datos (PostgreSQL)

Importa el archivo src/config/quickstock.sql en tu gestor de base de datos (por ejemplo, phpMyAdmin) y ajusta las credenciales en src/config/SERVER.php segÃºn tu entorno local.

> ğŸ’¡ En caso de utilizar **PostgreSQL** como manejador de base de datos, sigue estos pasos adicionales:

#### a. Importar la base de datos

Utiliza tu gestor de base de datos (por ejemplo, pgAdmin o la terminal) para importar el archivo `src/config/quickstock.sql` a tu instancia de PostgreSQL. AsegÃºrate de crear previamente la base de datos con el nombre correspondiente.

```bash
psql -U tu_usuario -d nombre_base_datos -f src/config/quickstock.sql
```

#### b. Modificar la conexiÃ³n en el cÃ³digo

Edita el archivo src/config/SERVER.php para adaptar la conexiÃ³n a PostgreSQL utilizando pg_connect. AsegÃºrate de que el formato sea compatible. Ejemplo:

```php
define('DB_CONNECTION', pg_connect("host=localhost port=5432 dbname=nombre_base_datos user=tu_usuario password=tu_clave"));
```

> ğŸ’¡ Por lo general el usuario por defecto es postgres y en caso de no haber configurado una contraseÃ±a se omite el campo 'password=' del DSN

#### c. Validar compatibilidad
Verifica que los modelos y funciones que interactÃºan con la base de datos estÃ©n adaptados para PostgreSQL. Si originalmente fueron escritos para MySQL (por ejemplo, usando mysqli_* o PDO con mysql:), serÃ¡ necesario refactorizar las llamadas para usar funciones compatibles con pg_*.

#### d. RevisiÃ³n adicional
AsegÃºrate de que los tipos de datos en el script SQL sean compatibles con PostgreSQL.

Revisa el uso de comillas, funciones especÃ­ficas (NOW(), AUTO_INCREMENT, etc.) y sintaxis de claves primarias/forÃ¡neas.


## Estructura del Proyecto (MVC)

El nÃºcleo del sistema sigue el patrÃ³n **Modelo-Vista-Controlador (MVC)**, garantizando la separaciÃ³n de responsabilidades:

| Carpeta         | Rol dentro del MVC     | DescripciÃ³n                                                                 |
| :-------------- | :--------------------- | :-------------------------------------------------------------------------- |
| `controller/`   | **Controlador (C)**    | Gestiona el flujo de la aplicaciÃ³n e invoca las vistas segÃºn la URL.        |
| `model/`        | **Modelo (M)**         | LÃ³gica de negocio, conexiÃ³n a la base de datos, encriptaciÃ³n y validaciones.|
| `view/`         | **Vista (V)**          | Archivos de presentaciÃ³n: HTML, CSS, JS y plantilla base.                   |
| `assets/`       | **Recursos visuales**  | Bootstrap, componentes, imÃ¡genes, iconos y elementos PHP reutilizables.     |
| `shared/`       | **LÃ³gica compartida**  | Traits PHP reutilizables entre modelos y controladores.                     |
| `config/`       | **ConfiguraciÃ³n**      | Constantes globales, credenciales y script de base de datos.                |
| `docs/`         | **DocumentaciÃ³n**      | Manuales tÃ©cnicos, changelog, estructura y diagramas del sistema.           |

### Referencia a estructura del proyecto

>[Estructura del proyecto](src/docs/estructura_proyecto.md)

---

## ğŸ¤ ContribuciÃ³n

**Â¡Las contribuciones son bienvenidas!** Para colaborar en el desarrollo:

1.  Clona el repositorio y crea una rama a partir de `master`: 

```bash
git checkout -b feature/nombre-funcionalidad
```

2.  Sigue las **Convenciones de Desarrollo**.
3.  AsegÃºrate de que tus cambios pasen las pruebas.
4.  Realiza un `commit` descriptivo y abre un **Pull Request (PR)**.
``` bash
git add .
git commit -m "commit descriptivo"
```

5. Borrar la rama que creaste luego de hacer pull request con:

```bash
git branch -D feature/nombre-funcionalidad
```

### Referencia a Guia de contribucion

>[Contributing.md](src/docs/Contributing.md)

---

## ğŸ›¡ï¸ Seguridad

La seguridad es una prioridad. Por favor, asegÃºrate de:

* Usar siempre **consultas preparadas (PDO)** para interactuar con la base de datos.
* **Hashear contraseÃ±as** con `password_hash`.
* **No modificar** archivos crÃ­ticos como `config/SERVER` o `.htaccess`.

---

## ğŸ“„ Licencia

Este proyecto estÃ¡ bajo la Licencia **MIT** - ver el archivo [LICENSE.md](src/docs/LICENSE.MD) para mÃ¡s detalles.
